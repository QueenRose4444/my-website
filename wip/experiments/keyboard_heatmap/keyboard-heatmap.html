<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Corrected the file path for the favicons -->
    <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg" />
    <link rel="shortcut icon" href="/images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="RoseStuffs" />
    <link rel="manifest" href="/images/site.webmanifest" />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboard Heatmap Tracker - Enhanced</title>
    <link rel="stylesheet" href="keyboard-heatmap.css">
    <link rel="canonical" href="https://rosestuffs.org/wip/experiments/keyboard_heatmap/keyboard-heatmap.html" />
</head>
<body>
    <!-- Top Navigation Bar -->
    <header class="top-bar">
        <nav>
            <ul>
                <li><a href="../../home/">Home</a></li>
                <li><a href="../../meds/">Meds</a></li>
                <li><a href="">WIP-PAGE</a></li>
                <li><a href="../">Experiments</a></li>
                <li><a href="#" class="active-link">keyboard heatmap</a></li>
            </ul>
        </nav> 
    </header>

    <div class="header">
        <div class="header-left">
            <div class="stats-display">
                <div>Total Keys: <span id="totalCount">0</span></div>
                <div>Active Keys: <span id="activeCount">0</span></div>
            </div>
        </div>
        <button class="spam-toggle" id="spamToggle">ğŸš« SPAM MODE OFF</button>
        <button class="settings-btn" id="settingsBtn">âš™ï¸ Layouts</button>
    </div>

    <div class="main-content">
        <div class="keyboard-container">
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: #3a3a3a;"></div>
                    <span>0% (Unused)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(90deg, #00ff00, #40ff40);"></div>
                    <span>Low (0-2%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(90deg, #80ff00, #ffff00);"></div>
                    <span>Medium (2-5%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(90deg, #ff8000, #ff4000);"></div>
                    <span>High (5-10%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(90deg, #ff0000, #cc0000);"></div>
                    <span>Max (10%+)</span>
                </div>
            </div>
            <!-- The keyboard will be rendered here by JavaScript -->
            <div class="keyboard keyboard-100" id="keyboard"></div>
        </div>

        <div class="stats-container">
            <div class="stats-header">
                <h2>ğŸ“Š Keystroke Analytics</h2>
                <div class="sort-controls">
                    <span>Sort by:</span>
                    <button class="sort-btn active" data-sort="count">ğŸ”¥ Most Pressed</button>
                    <button class="sort-btn" data-sort="count-asc">â„ï¸ Least Pressed</button>
                    <button class="sort-btn" data-sort="percent">ğŸ“ˆ Percentage</button>
                    <button class="sort-btn" data-sort="alphabetical">ğŸ”¤ A-Z</button>
                    <button class="sort-btn" data-sort="recent">â° Recent</button>
                </div>
            </div>
            <table class="stats-table">
                <thead>
                    <tr>
                        <th>ğŸ”‘ Key</th>
                        <th>ğŸ‘† Presses</th>
                        <th>ğŸ“Š Percentage</th>
                        <th>ğŸ“ˆ Usage Bar</th>
                        <th>â±ï¸ Last Used</th>
                    </tr>
                </thead>
                <tbody id="statsTableBody">
                </tbody>
            </table>
        </div>
    </div>

    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <h2>âŒ¨ï¸ Keyboard Layout Selection</h2>
            
            <div class="info-panel">
                <strong>ğŸ¯ Current Features:</strong>
                <ul style="margin: 10px 0; padding-left: 20px;">
                    <li>Real-time key tracking with visual heatmap</li>
                    <li>Multiple layout support (ANSI, TKL, etc.)</li>
                    <li>Perfectly aligned keyboard sections</li>
                    <li>Visual gaps between key groups</li>
                    <li>Independent left/right modifier tracking</li>
                    <li>Spam mode blocks most shortcuts (not Windows key)*</li>
                </ul>
            </div>
            
            <div class="layout-grid" id="layoutGrid">
                <!-- Layouts will be populated here -->
            </div>
            
            <div class="warning-text">
                * Windows key cannot be fully blocked due to browser security limitations
            </div>
            
            <button class="close-modal" id="closeModal">âœ… Apply & Close</button>
        </div>
    </div>

    <div class="notification" id="notification">
        <div id="notificationText"></div>
    </div>

    <script src="keyboard-heatmap.js"></script>

    <footer>
        <p> <a href="https://github.com/QueenRose4444/my-website" target="_blank"></a></p>
    </footer>

</body>
</html>
