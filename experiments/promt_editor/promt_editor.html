<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg" />
    <link rel="shortcut icon" href="/images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="RoseStuffs" />
    <link rel="manifest" href="/images/site.webmanifest" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt & File Formatter</title>
    <!-- Link to your CSS file -->
    <link rel="stylesheet" href="promt_editor.css">
    <!-- SortableJS for drag-and-drop reordering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.15.0/Sortable.min.js"></script>
    <link rel="canonical" href="https://rosestuffs.org/experiments/promt_editor/" />
</head>
<body>

    <!-- Correct Top Navigation Bar -->
    <header class="top-bar">
        <nav>
            <ul>
                <li><a href="../../home/">Home</a></li>
                <li><a href="../../meds/">Meds</a></li>
                <li><a href="../">Experiments</a></li>
                <li><a href="#" class="active-link">prompt editor</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <!-- Left Panel for Prompt, File Upload, and Management -->
        <div class="panel file-panel">
            <header class="panel-header">
                <h1>Prompt & File Formatter</h1>
            </header>
            
            <div class="prompt-section">
                <textarea id="prompt-input" rows="4" placeholder="Enter your main prompt here..."></textarea>
            </div>
            
            <div id="drop-zone">
                <svg stroke="currentColor" fill="none" viewBox="0 0 48 48" aria-hidden="true">
                    <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
                <p>
                    <span class="font-semibold">Click to upload</span> or drag and drop files here.
                </p>
                <input type="file" id="file-input" multiple hidden>
            </div>

            <div id="file-list-container">
                 <div class="file-list-header">
                    <h2>Files</h2>
                    <button id="add-file-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"></path>
                        </svg>
                        <span>Add File</span>
                    </button>
                 </div>
                 <ul id="file-list"></ul>
            </div>
        </div>

        <!-- Right Panel for Preview -->
        <div class="panel preview-panel">
            <div class="preview-header">
                <h2>Formatted Output</h2>
                <div class="action-buttons">
                    <button id="copy-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"></path><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3z"></path></svg>
                        <span>Copy</span>
                    </button>
                    <button id="download-button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"></path><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"></path></svg>
                        <span>Download</span>
                    </button>
                </div>
            </div>
            <div id="output-preview-container">
                <pre><code id="output-preview"></code></pre>
            </div>
        </div>
    </main>
    
    <!-- Toast Notification for copy feedback -->
    <div id="toast" class="toast-notification"></div>

    <!-- Add File Modal -->
    <div id="add-file-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3>Add New File</h3>
            <label for="modal-filename-input">Filename (e.g., script.js)</label>
            <input type="text" id="modal-filename-input" placeholder="Enter filename...">
            
            <label for="modal-content-input">File Content</label>
            <textarea id="modal-content-input" rows="10" placeholder="Paste file content here..."></textarea>
            
            <div class="modal-actions">
                <button id="modal-cancel-btn">Cancel</button>
                <button id="modal-save-btn">Save File</button>
            </div>
        </div>
    </div>
    
    <!-- Link to your JavaScript file -->
    <script src="promt_editor.js"></script>
</body>
</html>
